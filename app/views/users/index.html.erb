<div class="container">
  <div class="row">
    <div class="col-md-9 mx-md-auto">
      <%= link_to "Create User", new_user_path, class: "btn btn-primary float-right mb-4" %>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @users.each do |user| %>
            <tr>
              <td><%= user.name %></td>
              <td><%= user.email %></td>
              <td><%= user.role.capitalize %></td>
              <td>
                <div class="dropdown">
                  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                   Action
                  </button>
                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' },class: "dropdown-item"  %>
                    <%= link_to 'Change Role', change_role_user_path(user),class: "dropdown-item", data: { toggle: "modal", target: "#changeRole", remote: true }  %>
                  </div>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="modal fade" id="changeRole" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
</div>
